# -*- coding: UTF-8 -*-
import sys
import os
os.chdir(os.path.dirname(os.path.abspath(sys.argv[0])))
f = open('../coloremoji_characters.sty', 'w')
# list of processed characters and exceptions:
charlist = ['2122']	# exception: â„¢
# create new LaTeX-unicode characters for (almost) every available twemoji:
f.write('% Code generated by "'+os.path.basename(sys.argv[0])+'".')
for filename in os.listdir('../emoji_images'):
	char = filename.split('-')[0].split(".")[0]
	# no duplicates and no ANSI-Characters:
	if (char not in charlist) and not(int(char,16) < 256):
		charlist.append(char)
		char_full = '\U'+char.zfill(8)
		uniChar = unicode(char_full, 'unicode-escape').encode('utf8')
		# special treatment for countrycodes (flags):
		if int("1f1e6",16) <= int(char,16) <= int("1f1ff",16):
			f.write('\n\\newunicodechar{'+uniChar+'}{\coloremoji_flag:n{'+uniChar+'}}')
		else:
			f.write('\n\\newunicodechar{'+uniChar+'}{{\coloremoji{'+uniChar+'}}}')
f.close()